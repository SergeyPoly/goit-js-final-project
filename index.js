import{S as n,c as h,g as _,r as q,a as T,b as R,p as U,l as B,d as A}from"./assets/pagination-QYv63mFT.js";import"./assets/vendor-C1ZlVBJv.js";const f=t=>t==="Body parts"?"bodypart":t.replace(/\s/g,"").toLowerCase(),O=t=>{const{name:r,imgURL:s,filter:i}=t;return`
    <li class="exercises-content__item" data-filter="${f(i)}" data-exercise="${r.toLowerCase()}">
      <img
        src="${s}"
        alt="Abs"
        class="exercises-content__image"
      />

      <div class="exercises-content__text">
        <h3 class="exercises-content__title">${r}</h3>
        <p class="exercises-content__description">${i}</p>
      </div>
    </li>
  `},k=(t,r)=>{let s="";return t.length?t.forEach(i=>{s+=O(i)}):s=`<p class="no-exercises-message">${r}</p>`,s},m={setNewParams:t=>{const r=`${window.location.pathname}?${t.toString()}`;history.pushState(null,"",r)},getParams:()=>new URLSearchParams(window.location.search),getExerciseNameFromParams:t=>t.get("bodypart")??t.get("muscles")??t.get("equipment")??null},u={timers:new Map,debounce:(t,r,s="default")=>(...i)=>{u.timers.has(s)&&clearTimeout(u.timers.get(s));const d=setTimeout(()=>{t(...i),u.timers.delete(s)},r);u.timers.set(s,d)}},M=document.querySelector(".exercises > div.container"),V=document.querySelector(".exercises-header"),b=V.querySelector(".exercises-header-wrapper"),w=b.querySelector(".section-title"),g=b.querySelector(".exercises-header__breadcrumbs"),$=g.querySelector(".breadcrumbs-exercises"),I=document.querySelector(".exercises-filter"),L=I.querySelector(".exercises-filter__search"),v=L.querySelector(".search-input"),a=L.querySelector(".search-button.clear-icon"),S=I.querySelector(".exercises-filter__filters"),E=S.querySelectorAll(".filter-btn"),N=S.querySelector(".filter-underline"),P=document.querySelector(".exercises-content-wrapper"),y=P.querySelector(".exercises-content"),D=P.querySelector(".exercises-list-wrapper"),F=P.querySelector(".exercises-loader"),e={windowView:null,currentFilter:null,currentPage:1,currentLimit:9,totalPages:null,exerciseName:null,exerciseSearch:""},c={showExercisesList:()=>{g.classList.remove("visually-hidden"),L.classList.remove("visually-hidden"),w.classList.add("cursor-pointer")},hideExercisesList:()=>{g.classList.add("visually-hidden"),L.classList.add("visually-hidden"),w.classList.remove("cursor-pointer")},updateBreadcrumbs:t=>{$.textContent=t},clearContent:()=>{y.innerHTML="",D.innerHTML=""},moveFilterUnderline:t=>{const r=S.getBoundingClientRect(),s=t.getBoundingClientRect(),i=s.left-r.left,d=s.width;N.style.left=`${i}px`,N.style.width=`${d}px`},setActiveFilter:t=>{E.forEach(r=>r.classList.remove("active")),t.classList.add("active"),c.moveFilterUnderline(t)}},l={calculateLimit:(t,r=!1)=>r?n.LIMITS.EXERCISES_LIST:t>=n.BREAKPOINTS.DESKTOP_LARGE?n.LIMITS.DESKTOP_LARGE:n.LIMITS.DESKTOP,updateLimit:(t=window.innerWidth)=>{const r=l.calculateLimit(t,!!e.exerciseName);return e.currentLimit!==r?(e.currentLimit=r,e.exerciseName?(c.clearContent(),o()):(c.clearContent(),x()),!0):!1},currentWindowView:(t=window.innerWidth)=>{const{DESKTOP_LARGE:r,TABLET:s}=n.BREAKPOINTS;let i;return t>=r?i="desktop":t>=s?i="tablet":i="mobile",i},updateUnderlinePosition:()=>{const t=l.currentWindowView();t!==e.windowView&&(e.windowView=t,setTimeout(()=>{const r=S.querySelector(".filter-btn.active");r&&c.moveFilterUnderline(r)},50))}},p=()=>{M.scrollIntoView({behavior:"smooth",block:"start"})},x=async t=>{e.currentPage=t??e.currentPage;const{results:r,totalPages:s}=await R(e.currentFilter,e.currentPage,e.currentLimit),i=k(r,"Oops! No exercises found");F.classList.add("visually-hidden"),y.innerHTML=i,e.totalPages=s,e.totalPages>1?T(e.currentPage,e.totalPages,d=>{p(),x(d)},".exercises-content-wrapper"):h()},o=async t=>{e.currentPage=t??e.currentPage;const{results:r,totalPages:s}=await _({[f(e.currentFilter)]:e.exerciseName},e.exerciseSearch,e.currentPage,e.currentLimit);c.clearContent(),q(r,"Oops! No exercises found"),F.classList.add("visually-hidden"),e.totalPages=s,e.totalPages>1?T(e.currentPage,e.totalPages,i=>{p(),o(i)},".exercises-content-wrapper"):h()},H=async(t,r)=>{t.preventDefault(),c.setActiveFilter(r),e.currentFilter=r.textContent,e.exerciseName&&(F.classList.remove("visually-hidden"),h(),c.hideExercisesList(),e.exerciseName=null,c.clearContent()),C(),e.currentPage=1,await x()},K=t=>{const r=t.target.closest(".exercises-content__item");if(r){p(),e.exerciseName=r.dataset.exercise;const s=r.dataset.filter,i=new URLSearchParams;i.set("filter",e.currentFilter),i.set(s,e.exerciseName),m.setNewParams(i),c.updateBreadcrumbs(e.exerciseName),c.showExercisesList(),e.currentPage=1,e.currentLimit=n.LIMITS.EXERCISES_LIST,h(),o()}},W=()=>{p(),c.hideExercisesList(),C(),e.currentPage=1,e.exerciseName=null,l.updateLimit(),c.clearContent(),x()},G=()=>{l.updateLimit(),l.updateUnderlinePosition()},C=()=>{v.value="",e.exerciseSearch="";const t=new URLSearchParams;t.set("filter",e.currentFilter),e.exerciseName&&t.set(f(e.currentFilter),e.exerciseName),m.setNewParams(t),a.classList.add("visually-hidden")};window.addEventListener("resize",G);E.forEach(t=>{t.addEventListener("click",r=>H(r,t))});y.addEventListener("click",K);w.addEventListener("click",W);a.addEventListener("click",()=>{C(),o()});const X=u.debounce(async()=>{e.exerciseName&&(e.currentPage=1,c.clearContent(),await o())},750,"search");v.addEventListener("input",t=>{e.exerciseSearch=t.target.value.trim().toLowerCase();const r=new URLSearchParams;r.set("filter",e.currentFilter),e.exerciseName&&r.set(f(e.currentFilter),e.exerciseName),e.exerciseSearch&&r.set("keyword",e.exerciseSearch),m.setNewParams(r),e.exerciseSearch===""?a.classList.add("visually-hidden"):a.classList.remove("visually-hidden"),X()});const z=()=>{const t=m.getParams();e.currentFilter=t.get("filter")??n.DEFAULT_FILTER,e.exerciseName=m.getExerciseNameFromParams(t),e.exerciseSearch=t.get("keyword")??"",v.value=e.exerciseSearch,e.exerciseSearch?a.classList.remove("visually-hidden"):a.classList.add("visually-hidden");let r=null;for(const s of E)if(s.textContent.trim()===e.currentFilter){r=s,s.classList.add("active");break}if(r&&c.moveFilterUnderline(r),l.updateLimit(),e.exerciseName){c.updateBreadcrumbs(e.exerciseName),c.showExercisesList(),e.currentLimit=n.LIMITS.EXERCISES_LIST,o();return}x()};z();function Q(){const t=document.querySelector(".footer-form"),r=t==null?void 0:t.querySelector(".footer-input");!t||!r||t.addEventListener("submit",async function(s){s.preventDefault();const i=r.value.trim();await U(i)})}const j=()=>{B(),A(),Q()};document.addEventListener("DOMContentLoaded",()=>{j()});
//# sourceMappingURL=index.js.map

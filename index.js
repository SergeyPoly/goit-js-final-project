import{S as a,c as h,g as B,r as R,a as N,b as U,p as k,d as A,l as M,e as O}from"./assets/pagination-B5riHGMT.js";import"./assets/vendor-C1ZlVBJv.js";const w=e=>e==="Body parts"?"bodypart":e.replace(/\s/g,"").toLowerCase(),$=e=>{const{name:r,imgURL:s,filter:i}=e;return`
    <li class="exercises-content__item" data-filter="${w(i)}" data-exercise="${r.toLowerCase()}">
      <a href="#" class="exercises-content__link">
        <img
          src="${s}"
          alt="Abs"
          class="exercises-content__image"
        />

        <div class="exercises-content__text">
          <h3 class="exercises-content__title">${r}</h3>
          <p class="exercises-content__description">${i}</p>
        </div>
      </a>
    </li>
  `},V=(e,r)=>{let s="";return e.length?e.forEach(i=>{s+=$(i)}):s=`<p class="no-exercises-message">${r}</p>`,s},x={setNewParams:e=>{const r=`${window.location.pathname}?${e.toString()}`;history.pushState(null,"",r)},getParams:()=>new URLSearchParams(window.location.search),getExerciseNameFromParams:e=>e.get("bodypart")??e.get("muscles")??e.get("equipment")??null},m={timers:new Map,debounce:(e,r,s="default")=>(...i)=>{m.timers.has(s)&&clearTimeout(m.timers.get(s));const u=setTimeout(()=>{e(...i),m.timers.delete(s)},r);m.timers.set(s,u)}},H=document.querySelector(".exercises > div.container"),D=document.querySelector(".exercises-header"),I=D.querySelector(".exercises-header-wrapper"),g=I.querySelector(".section-title"),v=I.querySelector(".exercises-header__breadcrumbs"),W=v.querySelector(".breadcrumbs-exercises"),_=document.querySelector(".exercises-filter"),f=_.querySelector(".exercises-filter__search"),y=f.querySelector(".search-input"),o=f.querySelector(".search-button.clear-icon"),p=_.querySelector(".exercises-filter__filters"),E=p.querySelectorAll(".filter-btn"),F=p.querySelector(".filter-underline"),P=document.querySelector(".exercises-content-wrapper"),T=P.querySelector(".exercises-content"),K=P.querySelector(".exercises-list-wrapper"),b=P.querySelector(".exercises-loader"),t={windowView:null,currentFilter:null,currentPage:1,currentLimit:9,totalPages:null,exerciseName:null,exerciseSearch:""},n={showExercisesList:()=>{v.classList.remove("visually-hidden"),f.classList.remove("visually-hidden"),g.classList.add("cursor-pointer")},hideExercisesList:()=>{v.classList.add("visually-hidden"),f.classList.add("visually-hidden"),g.classList.remove("cursor-pointer")},updateBreadcrumbs:e=>{W.textContent=e},clearContent:()=>{T.innerHTML="",K.innerHTML=""},moveFilterUnderline:e=>{const r=p.getBoundingClientRect(),s=e.getBoundingClientRect(),i=s.left-r.left,u=s.width;F.style.left=`${i}px`,F.style.width=`${u}px`},setActiveFilter:e=>{E.forEach(r=>r.classList.remove("active")),e.classList.add("active"),n.moveFilterUnderline(e)}},l={calculateLimit:(e,r=!1)=>r?a.LIMITS.EXERCISES_LIST:e>=a.BREAKPOINTS.TABLET?a.LIMITS.DESKTOP_LARGE:a.LIMITS.TABLET,updateLimit:(e=window.innerWidth)=>{const r=l.calculateLimit(e,!!t.exerciseName);return t.currentLimit!==r?(t.currentLimit=r,t.exerciseName?(n.clearContent(),d()):(n.clearContent(),L()),!0):!1},currentWindowView:(e=window.innerWidth)=>{const{DESKTOP_LARGE:r,TABLET:s}=a.BREAKPOINTS;let i;return e>=r?i="desktop":e>=s?i="tablet":i="mobile",i},updateUnderlinePosition:()=>{const e=l.currentWindowView();e!==t.windowView&&(t.windowView=e,setTimeout(()=>{const r=p.querySelector(".filter-btn.active");r&&n.moveFilterUnderline(r)},50))}},S=()=>{H.scrollIntoView({behavior:"smooth",block:"start"})},L=async e=>{t.currentPage=e??t.currentPage;const{results:r,totalPages:s}=await U(t.currentFilter,t.currentPage,t.currentLimit),i=V(r,"Oops! No exercises found");b.classList.add("visually-hidden"),T.innerHTML=i,t.totalPages=s,t.totalPages>1?N(t.currentPage,t.totalPages,u=>{S(),L(u)},".exercises-content-wrapper"):h()},d=async e=>{t.currentPage=e??t.currentPage;const{results:r,totalPages:s}=await B({[w(t.currentFilter)]:t.exerciseName},t.exerciseSearch,t.currentPage,t.currentLimit);n.clearContent(),R(r,"Oops! No exercises found"),b.classList.add("visually-hidden"),t.totalPages=s,t.totalPages>1?N(t.currentPage,t.totalPages,i=>{S(),d(i)},".exercises-content-wrapper"):h()},X=async(e,r)=>{e.preventDefault(),n.setActiveFilter(r),t.currentFilter=r.textContent,t.exerciseName&&(b.classList.remove("visually-hidden"),h(),n.hideExercisesList(),t.exerciseName=null,n.clearContent()),C(),t.currentPage=1,await L()},G=e=>{const r=e.target.closest(".exercises-content__item");if(r){S(),t.exerciseName=r.dataset.exercise;const s=r.dataset.filter,i=new URLSearchParams;i.set("filter",t.currentFilter),i.set(s,t.exerciseName),x.setNewParams(i),n.updateBreadcrumbs(t.exerciseName),n.showExercisesList(),t.currentPage=1,t.currentLimit=a.LIMITS.EXERCISES_LIST,h(),d()}},Y=()=>{S(),n.hideExercisesList(),C(),t.currentPage=1,t.exerciseName=null,l.updateLimit(),n.clearContent(),L()},z=()=>{l.updateLimit(),l.updateUnderlinePosition()},C=()=>{y.value="",t.exerciseSearch="";const e=new URLSearchParams;e.set("filter",t.currentFilter),t.exerciseName&&e.set(w(t.currentFilter),t.exerciseName),x.setNewParams(e),o.classList.add("visually-hidden")};window.addEventListener("resize",z);E.forEach(e=>{e.addEventListener("click",r=>X(r,e))});T.addEventListener("click",G);g.addEventListener("click",Y);o.addEventListener("click",()=>{C(),d()});const Q=m.debounce(async()=>{t.exerciseName&&(t.currentPage=1,n.clearContent(),await d())},750,"search");y.addEventListener("input",e=>{t.exerciseSearch=e.target.value.trim().toLowerCase();const r=new URLSearchParams;r.set("filter",t.currentFilter),t.exerciseName&&r.set(w(t.currentFilter),t.exerciseName),t.exerciseSearch&&r.set("keyword",t.exerciseSearch),x.setNewParams(r),t.exerciseSearch===""?o.classList.add("visually-hidden"):o.classList.remove("visually-hidden"),Q()});window.addEventListener("popstate",()=>{q()});const q=()=>{const e=x.getParams();t.currentFilter=e.get("filter")??a.DEFAULT_FILTER,t.exerciseName=x.getExerciseNameFromParams(e),t.exerciseSearch=e.get("keyword")??"",y.value=t.exerciseSearch,t.exerciseSearch?o.classList.remove("visually-hidden"):o.classList.add("visually-hidden");let r=null;for(const s of E)if(s.textContent.trim()===t.currentFilter){r=s,s.classList.add("active");break}if(r&&n.moveFilterUnderline(r),l.updateLimit(),t.exerciseName){n.updateBreadcrumbs(t.exerciseName),n.showExercisesList(),t.currentLimit=a.LIMITS.EXERCISES_LIST,d();return}L()};q();function j(){const e=document.querySelector(".footer-form"),r=e==null?void 0:e.querySelector(".footer-input");!e||!r||e.addEventListener("submit",async function(s){s.preventDefault();const i=r.value.trim();await k(i)})}const J=()=>{const e=document.createElement("button");return e.id="scrollToTopBtn",e.className="scroll-to-top-btn",e.style.display="none",e.innerHTML=`
    <svg class="logo-icon" width="28" height="28">
      <use href="${A("arrow-icon-default")}"></use>
    </svg>
  `,document.body.appendChild(e),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e};let c=null;const Z=()=>{const e=window.scrollY||window.pageYOffset,r=document.querySelector("footer");if(!c&&e>100&&(c=J()),c&&(e>100?c.style.display="flex":(c.style.display="none",c.remove(),c=null),r)){const s=r.getBoundingClientRect(),i=window.innerHeight;s.top<i&&(c.style.display="none",c.remove(),c=null)}},ee=()=>{window.addEventListener("scroll",Z)},te=()=>{M(),O(),j(),ee()};document.addEventListener("DOMContentLoaded",()=>{te()});
//# sourceMappingURL=index.js.map

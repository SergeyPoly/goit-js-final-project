import{g as _,S as a,a as R,r as U,b as T,c as O,p as B,l as D}from"./assets/pagination-BGH4gRWf.js";import"./assets/vendor-D9ezOI0e.js";const A=document.querySelector(".quote-container");function M(){const e=new Date;return{day:e.getDate(),month:e.getMonth(),year:e.getFullYear()}}function $(e,r){return!e||!r?!1:e.day===r.day&&e.month===r.month&&e.year===r.year}function F({author:e,quote:r}){A.insertAdjacentHTML("beforeend",`
    <p class="quote-text">${r}</p>
    <p class="quote-author">${e}</p>
  `)}async function k(){const e=JSON.parse(localStorage.getItem("today-date")),r=M(),s=JSON.parse(localStorage.getItem("today-quote"));if($(e,r)&&s)F(s);else{const{author:i,quote:c}=await _();localStorage.setItem("today-date",JSON.stringify(r)),localStorage.setItem("today-quote",JSON.stringify({author:i,quote:c})),F({author:i,quote:c})}}const f=e=>e==="Body parts"?"bodypart":e.replace(/\s/g,"").toLowerCase(),V=e=>{const{name:r,imgURL:s,filter:i}=e;return`
    <li class="exercises-content__item" data-filter="${f(i)}" data-exercise="${r.toLowerCase()}">
      <img
        src="${s}"
        alt="Abs"
        class="exercises-content__image"
      />

      <div class="exercises-content__text">
        <h3 class="exercises-content__title">${r}</h3>
        <p class="exercises-content__description">${i}</p>
      </div>
    </li>
  `},H=(e,r)=>{let s="";return e.length?e.forEach(i=>{s+=V(i)}):s=`<p class="no-exercises-message">${r}</p>`,s},m={setNewParams:e=>{const r=`${window.location.pathname}?${e.toString()}`;history.pushState(null,"",r)},getParams:()=>new URLSearchParams(window.location.search),getExerciseNameFromParams:e=>e.get("bodypart")??e.get("muscles")??e.get("equipment")??null},d={timers:new Map,debounce:(e,r,s="default")=>(...i)=>{d.timers.has(s)&&clearTimeout(d.timers.get(s));const c=setTimeout(()=>{e(...i),d.timers.delete(s)},r);d.timers.set(s,c)}},K=document.querySelector(".exercises > div.container"),W=document.querySelector(".exercises-header"),I=W.querySelector(".exercises-header-wrapper"),g=I.querySelector(".section-title"),p=I.querySelector(".exercises-header__breadcrumbs"),G=p.querySelector(".breadcrumbs-exercises"),b=document.querySelector(".exercises-filter"),L=b.querySelector(".exercises-filter__search"),w=L.querySelector(".search-input"),o=L.querySelector(".search-button.clear-icon"),S=b.querySelector(".exercises-filter__filters"),y=S.querySelectorAll(".filter-btn"),C=S.querySelector(".filter-underline"),v=document.querySelector(".exercises-content-wrapper"),E=v.querySelector(".exercises-content"),J=v.querySelector(".exercises-list-wrapper"),P=v.querySelector(".exercises-loader"),t={windowView:null,currentFilter:null,currentPage:1,currentLimit:9,totalPages:null,exerciseName:null,exerciseSearch:""},n={showExercisesList:()=>{p.classList.remove("visually-hidden"),L.classList.remove("visually-hidden"),g.classList.add("cursor-pointer")},hideExercisesList:()=>{p.classList.add("visually-hidden"),L.classList.add("visually-hidden"),g.classList.remove("cursor-pointer")},updateBreadcrumbs:e=>{G.textContent=e},clearContent:()=>{E.innerHTML="",J.innerHTML=""},moveFilterUnderline:e=>{const r=S.getBoundingClientRect(),s=e.getBoundingClientRect(),i=s.left-r.left,c=s.width;C.style.left=`${i}px`,C.style.width=`${c}px`},setActiveFilter:e=>{y.forEach(r=>r.classList.remove("active")),e.classList.add("active"),n.moveFilterUnderline(e)}},l={calculateLimit:(e,r=!1)=>r?a.LIMITS.EXERCISES_LIST:e>=a.BREAKPOINTS.DESKTOP_LARGE?a.LIMITS.DESKTOP_LARGE:a.LIMITS.DESKTOP,updateLimit:(e=window.innerWidth)=>{const r=l.calculateLimit(e,!!t.exerciseName);return t.currentLimit!==r?(t.currentLimit=r,t.exerciseName?(n.clearContent(),u()):(n.clearContent(),x()),!0):!1},currentWindowView:(e=window.innerWidth)=>{const{DESKTOP_LARGE:r,TABLET:s}=a.BREAKPOINTS;let i;return e>=r?i="desktop":e>=s?i="tablet":i="mobile",i},updateUnderlinePosition:()=>{const e=l.currentWindowView();e!==t.windowView&&(t.windowView=e,setTimeout(()=>{const r=S.querySelector(".filter-btn.active");r&&n.moveFilterUnderline(r)},50))}},h=()=>{const e=document.querySelector(".pagination");e&&e.remove()},q=()=>{K.scrollIntoView({behavior:"smooth",block:"start"})},x=async e=>{t.currentPage=e??t.currentPage;const{results:r,totalPages:s}=await O(t.currentFilter,t.currentPage,t.currentLimit),i=H(r,"Oops! No exercises found");P.classList.add("visually-hidden"),E.innerHTML=i,t.totalPages=s,t.totalPages>1?T(t.currentPage,t.totalPages,c=>{x(c)},".exercises-content-wrapper"):h()},u=async e=>{t.currentPage=e??t.currentPage;const{results:r,totalPages:s}=await R({[f(t.currentFilter)]:t.exerciseName},t.exerciseSearch,t.currentPage,t.currentLimit);n.clearContent(),U(r,"Oops! No exercises found"),P.classList.add("visually-hidden"),t.totalPages=s,t.totalPages>1?T(t.currentPage,t.totalPages,i=>{u(i)},".exercises-content-wrapper"):h()},X=async(e,r)=>{e.preventDefault(),n.setActiveFilter(r),t.currentFilter=r.textContent,t.exerciseName&&(P.classList.remove("visually-hidden"),h(),n.hideExercisesList(),t.exerciseName=null,n.clearContent()),N(),t.currentPage=1,await x()},Q=e=>{const r=e.target.closest(".exercises-content__item");if(r){q(),t.exerciseName=r.dataset.exercise;const s=r.dataset.filter,i=new URLSearchParams;i.set("filter",t.currentFilter),i.set(s,t.exerciseName),m.setNewParams(i),n.updateBreadcrumbs(t.exerciseName),n.showExercisesList(),t.currentPage=1,t.currentLimit=a.LIMITS.EXERCISES_LIST,h(),u()}},z=()=>{q(),n.hideExercisesList(),N(),t.currentPage=1,t.exerciseName=null,l.updateLimit(),n.clearContent(),x()},j=()=>{l.updateLimit(),l.updateUnderlinePosition()},N=()=>{w.value="",t.exerciseSearch="";const e=new URLSearchParams;e.set("filter",t.currentFilter),t.exerciseName&&e.set(f(t.currentFilter),t.exerciseName),m.setNewParams(e),o.classList.add("visually-hidden")};window.addEventListener("resize",j);y.forEach(e=>{e.addEventListener("click",r=>X(r,e))});E.addEventListener("click",Q);g.addEventListener("click",z);o.addEventListener("click",()=>{N(),u()});const Y=d.debounce(async()=>{t.exerciseName&&(t.currentPage=1,n.clearContent(),await u())},750,"search");w.addEventListener("input",e=>{t.exerciseSearch=e.target.value.trim().toLowerCase();const r=new URLSearchParams;r.set("filter",t.currentFilter),t.exerciseName&&r.set(f(t.currentFilter),t.exerciseName),t.exerciseSearch&&r.set("keyword",t.exerciseSearch),m.setNewParams(r),t.exerciseSearch===""?o.classList.add("visually-hidden"):o.classList.remove("visually-hidden"),Y()});const Z=()=>{const e=m.getParams();t.currentFilter=e.get("filter")??a.DEFAULT_FILTER,t.exerciseName=m.getExerciseNameFromParams(e),t.exerciseSearch=e.get("keyword")??"",w.value=t.exerciseSearch,t.exerciseSearch?o.classList.remove("visually-hidden"):o.classList.add("visually-hidden");let r=null;for(const s of y)if(s.textContent.trim()===t.currentFilter){r=s,s.classList.add("active");break}if(r&&n.moveFilterUnderline(r),l.updateLimit(),t.exerciseName){n.updateBreadcrumbs(t.exerciseName),n.showExercisesList(),t.currentLimit=a.LIMITS.EXERCISES_LIST,u();return}x()};Z();function ee(){const e=document.querySelector(".footer-form"),r=e?.querySelector(".footer-input");!e||!r||e.addEventListener("submit",async function(s){s.preventDefault();const i=r.value.trim();await B(i)})}const te=()=>{D(),k(),ee()};document.addEventListener("DOMContentLoaded",()=>{te()});
//# sourceMappingURL=index.js.map

{"version":3,"file":"exercises-list-CTpf8nCO.js","sources":["../../src/js/constants.js","../../src/js/renderers/exercise-card.js","../../src/js/services/storage.js","../../src/js/handlers/exercise-card.js","../../src/js/renderers/exercises-list.js"],"sourcesContent":["export const EXERCISE_CARD_CLASS_NAME = 'exercise-card';\n\nexport const EXERCISES_PAGE_SIZE = 10;\n\nexport const EXERCISE_CARD_ACTIONS = Object.freeze({\n  START: 'start',\n  RATE: 'rate',\n  REMOVE_FAVORITE: 'removeFavorite',\n});\n","import { EXERCISE_CARD_ACTIONS, EXERCISE_CARD_CLASS_NAME } from '../constants';\n\nexport function renderExerciseCard(exercise, isFavorite) {\n  return `\n    <div class=\"${EXERCISE_CARD_CLASS_NAME} ${\n    isFavorite ? 'favorite' : ''\n  }\" data-id=\"${exercise._id}\">\n      <div class=\"exercise-card-header\">\n      <p class=\"exercise-equipment\">${exercise.equipment}</p>\n        <div class=\"exercise-card-header-middle\">\n          ${\n            isFavorite\n              ? `<button data-action=\"${EXERCISE_CARD_ACTIONS.REMOVE_FAVORITE}\" class=\"card-icon-button remove-favorite-button\">\n                  <svg class=\"remove-favorite-icon\">\n                    <use href=\"./img/icons.svg#trash-icon\"></use>\n                  </svg>\n                </button>`\n              : `<button data-action=\"${EXERCISE_CARD_ACTIONS.RATE}\" class=\"card-icon-button rating-button\">\n                  ${exercise.rating}\n                  <svg class=\"rating-icon\">\n                    <use href=\"./img/icons.svg#star-filled-icon\"></use>\n                  </svg>\n                </button>`\n          }\n        </div>\n        <button data-action=\"${\n          EXERCISE_CARD_ACTIONS.START\n        }\" class=\"start-button\">\n          Start\n          <svg class=\"arrow-icon\" width=\"13\" height=\"13\">\n            <use href=\"./img/icons.svg#arrow-icon\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"exercise-card-body\">\n        <div class=\"exercise-name-container\">\n          <svg class=\"exercise-icon\" width=\"24\" height=\"24\">\n            <use href=\"./img/icons.svg#running-man-icon\"></use>\n          </svg>\n          <h3 class=\"exercise-name\">${exercise.name}</h3>\n        </div>\n      </div>\n      <div class=\"exercise-card-footer\">\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Burned calories:</span>\n          ${exercise.burnedCalories} /${exercise.time} min\n        </p>\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Body part:</span>\n          ${exercise.bodyPart}\n        </p>\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Target:</span>\n          ${exercise.target}\n        </p>\n      </div>\n    </div>\n  `;\n}\nexport function removeExerciseCard(container, exerciseId) {\n  const exerciseCard = container.querySelector(\n    `.${EXERCISE_CARD_CLASS_NAME}[data-id=\"${exerciseId}\"]`\n  );\n  if (exerciseCard) {\n    exerciseCard.remove();\n  }\n}\n","const LOCAL_STORAGE_KEY = 'favoriteExercises';\n\n/**\n * Exercise example:\n * \"_id\": \"64f389465ae26083f39b17a5\",\n    \"bodyPart\": \"waist\",\n    \"equipment\": \"body weight\",\n    \"gifUrl\": \"https://ftp.goit.study/img/power-pulse/gifs/0006.gif\",\n    \"name\": \"alternate heel touchers\",\n    \"target\": \"abs\",\n    \"description\": \"This refers to your core muscles, which include the rectus abdominis, obliques, and transverse abdominis. They're essential for maintaining posture, stability, and generating force in many movements. Exercises that target the abs include crunches, leg raises, and planks.\",\n    \"rating\": 3,\n    \"burnedCalories\": 116,\n    \"time\": 3,\n    \"popularity\": 1\n */\n\nexport function storeExercise(exercise) {\n  const exercises = getStoredExercises();\n\n  if (exercises.some(e => e._id === exercise._id)) {\n    return;\n  }\n  exercises.push(exercise);\n\n  storeExercises(exercises);\n}\n\nexport function removeStoredExercise(exerciseId) {\n  const exercises = getStoredExercises();\n\n  const updatedExercises = exercises.filter(e => e._id !== exerciseId);\n\n  storeExercises(updatedExercises);\n}\n\nfunction storeExercises(exercises) {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(exercises));\n}\n\nexport function getStoredExercises() {\n  try {\n    const storedData = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n    if (storedData) {\n      const parsedExercises = JSON.parse(storedData);\n\n      if (Array.isArray(parsedExercises)) {\n        return parsedExercises.filter(validateExercise);\n      }\n    }\n  } catch (error) {\n    // no need to handle error here, just return an empty array\n  }\n  return [];\n}\n\nfunction validateExercise(exercise) {\n  return (\n    exercise &&\n    typeof exercise === 'object' &&\n    typeof exercise._id === 'string' &&\n    typeof exercise.name === 'string'\n  );\n}\n","import { EXERCISE_CARD_ACTIONS } from '../constants';\nimport { removeExerciseCard } from '../renderers/exercise-card';\nimport { removeStoredExercise } from '../services/storage';\n\nfunction handleRemoveFavorite(listEl, exerciseId) {\n  removeStoredExercise(exerciseId);\n  removeExerciseCard(listEl, exerciseId);\n}\n\nfunction handleRate(exerciseId) {\n  // TODO: to implement\n  console.log(`Rating exercise: ${exerciseId}`);\n}\n\nfunction handleStart(exerciseId) {\n  // TODO: to implement\n  console.log(`Starting exercise: ${exerciseId}`);\n}\n\nexport function handleExerciseCardAction(listEl, exerciseId, action) {\n  switch (action) {\n    case EXERCISE_CARD_ACTIONS.REMOVE_FAVORITE:\n      handleRemoveFavorite(listEl, exerciseId);\n      break;\n\n    case EXERCISE_CARD_ACTIONS.START:\n      handleStart(exerciseId);\n      break;\n\n    case EXERCISE_CARD_ACTIONS.RATE:\n      handleRate(exerciseId);\n      break;\n\n    default:\n      console.warn('Unknown action:', action);\n  }\n}\n","import { EXERCISE_CARD_CLASS_NAME } from '../constants';\nimport { handleExerciseCardAction } from '../handlers/exercise-card';\nimport { renderExerciseCard } from './exercise-card';\n\nconst listEl = document.querySelector('.exercises-list');\n\nexport function renderExercisesList(exercises, emptyMessage, isFavorite) {\n  listEl.innerHTML = ''; // Clear the list before rendering\n\n  if (isFavorite) {\n    listEl.classList.add('favorites');\n  }\n\n  let content = '';\n\n  if (!exercises.length) {\n    content = `<p class=\"no-exercises-message\">${emptyMessage}</p>`;\n  } else {\n    exercises.forEach(exercise => {\n      content += renderExerciseCard(exercise, isFavorite);\n    });\n  }\n\n  listEl.insertAdjacentHTML('beforeend', content);\n}\n\nlistEl.addEventListener('click', e => {\n  let target = e.target;\n\n  if (target.nodeName !== 'BUTTON') {\n    target = target.closest(`.${EXERCISE_CARD_CLASS_NAME} button`);\n  }\n  if (!target || target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const exerciseCard = target.closest(`.${EXERCISE_CARD_CLASS_NAME}`);\n  const exerciseId = exerciseCard.dataset.id;\n  const action = target.dataset.action;\n\n  handleExerciseCardAction(listEl, exerciseId, action);\n});\n"],"names":["EXERCISE_CARD_CLASS_NAME","EXERCISES_PAGE_SIZE","EXERCISE_CARD_ACTIONS","renderExerciseCard","exercise","isFavorite","removeExerciseCard","container","exerciseId","exerciseCard","LOCAL_STORAGE_KEY","removeStoredExercise","updatedExercises","getStoredExercises","e","storeExercises","exercises","storedData","parsedExercises","validateExercise","handleRemoveFavorite","listEl","handleRate","handleStart","handleExerciseCardAction","action","renderExercisesList","emptyMessage","content","target"],"mappings":"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"}
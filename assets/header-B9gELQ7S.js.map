{"version":3,"file":"header-B9gELQ7S.js","sources":["../../src/js/constants.js","../../src/img/icons.svg?url","../../src/js/renderers/exercise-card.js","../../src/js/services/storage.js","../../src/js/handlers/exercise-card.js","../../src/js/renderers/exercises-list.js","../../src/js/services/modal.js","../../src/js/services/header.js"],"sourcesContent":["export const EXERCISE_CARD_CLASS_NAME = 'exercise-card';\n\nexport const EXERCISES_PAGE_SIZE = 10;\n\nexport const EXERCISE_CARD_ACTIONS = Object.freeze({\n  START: 'start',\n  RATE: 'rate',\n  REMOVE_FAVORITE: 'removeFavorite',\n});\n","export default \"__VITE_ASSET__Dscy8NPi__\"","import { EXERCISE_CARD_ACTIONS, EXERCISE_CARD_CLASS_NAME } from '../constants';\nimport spritePath from '/img/icons.svg?url';\n\nexport function renderExerciseCard(exercise, isFavorite) {\n  return `\n    <div class=\"${EXERCISE_CARD_CLASS_NAME}\" data-id=\"${exercise._id}\">\n      <div class=\"exercise-card-header\">\n      <p class=\"exercise-equipment\">${exercise.equipment}</p>\n        <div class=\"exercise-card-header-middle\">\n          ${\n            isFavorite\n              ? `<button data-action=\"${EXERCISE_CARD_ACTIONS.REMOVE_FAVORITE}\" class=\"card-icon-button remove-favorite-button\">\n                  <svg class=\"remove-favorite-icon\">\n                    <use href=\"./img/icons.svg#trash-icon\"></use>\n                  </svg>\n                </button>`\n              : `<button data-action=\"${EXERCISE_CARD_ACTIONS.RATE}\" class=\"card-icon-button rating-button\">\n                  ${exercise.rating}\n                  <svg class=\"rating-icon\">\n                    <use href=\"${spritePath}#star-filled-icon\"></use>\n                  </svg>\n                </button>`\n          }\n        </div>\n        <button data-action=\"${\n          EXERCISE_CARD_ACTIONS.START\n        }\" class=\"start-button\">\n          Start\n          <svg class=\"arrow-icon\" width=\"13\" height=\"13\">\n            <use href=\"./img/icons.svg#arrow-icon\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"exercise-card-body\">\n        <div class=\"exercise-name-container\">\n          <svg class=\"exercise-icon\" width=\"24\" height=\"24\">\n            <use href=\"./img/icons.svg#running-man-icon\"></use>\n          </svg>\n          <h3 class=\"exercise-name\">${exercise.name}</h3>\n        </div>\n      </div>\n      <div class=\"exercise-card-footer\">\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Burned calories:</span>\n          ${exercise.burnedCalories} /${exercise.time} min\n        </p>\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Body part:</span>\n          ${exercise.bodyPart}\n        </p>\n        <p class=\"card-footer-text\">\n          <span class=\"secondary-text\">Target:</span>\n          ${exercise.target}\n        </p>\n      </div>\n    </div>\n  `;\n}\nexport function removeExerciseCard(container, exerciseId) {\n  const exerciseCard = container.querySelector(\n    `.${EXERCISE_CARD_CLASS_NAME}[data-id=\"${exerciseId}\"]`\n  );\n  if (exerciseCard) {\n    exerciseCard.remove();\n  }\n}\n","const LOCAL_STORAGE_KEY = 'favoriteExercises';\n\n/**\n * Exercise example:\n * \"_id\": \"64f389465ae26083f39b17a5\",\n    \"bodyPart\": \"waist\",\n    \"equipment\": \"body weight\",\n    \"gifUrl\": \"https://ftp.goit.study/img/power-pulse/gifs/0006.gif\",\n    \"name\": \"alternate heel touchers\",\n    \"target\": \"abs\",\n    \"description\": \"This refers to your core muscles, which include the rectus abdominis, obliques, and transverse abdominis. They're essential for maintaining posture, stability, and generating force in many movements. Exercises that target the abs include crunches, leg raises, and planks.\",\n    \"rating\": 3,\n    \"burnedCalories\": 116,\n    \"time\": 3,\n    \"popularity\": 1\n */\n\nexport function storeExercise(exercise) {\n  const exercises = getStoredExercises();\n\n  if (exercises.some(e => e._id === exercise._id)) {\n    return;\n  }\n  exercises.push(exercise);\n\n  storeExercises(exercises);\n}\n\nexport function removeStoredExercise(exerciseId) {\n  const exercises = getStoredExercises();\n\n  const updatedExercises = exercises.filter(e => e._id !== exerciseId);\n\n  storeExercises(updatedExercises);\n}\n\nfunction storeExercises(exercises) {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(exercises));\n}\n\nexport function getStoredExercises() {\n  try {\n    const storedData = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n    if (storedData) {\n      const parsedExercises = JSON.parse(storedData);\n\n      if (Array.isArray(parsedExercises)) {\n        return parsedExercises.filter(validateExercise);\n      }\n    }\n  } catch (error) {\n    // no need to handle error here, just return an empty array\n  }\n  return [];\n}\n\nfunction validateExercise(exercise) {\n  return (\n    exercise &&\n    typeof exercise === 'object' &&\n    typeof exercise._id === 'string' &&\n    typeof exercise.name === 'string'\n  );\n}\n","import { removeExerciseCard } from '../renderers/exercise-card';\nimport { removeStoredExercise } from '../services/storage';\n\nexport function handleRemoveFavorite(listEl, exerciseId) {\n  removeStoredExercise(exerciseId);\n  removeExerciseCard(listEl, exerciseId);\n}\n\nexport function handleRate(exerciseId) {\n  // TODO: to implement\n  console.log(`Rating exercise: ${exerciseId}`);\n}\n\nexport function handleStart(exerciseId) {\n  // TODO: to implement\n  console.log(`Starting exercise: ${exerciseId}`);\n}\n","import { EXERCISE_CARD_ACTIONS, EXERCISE_CARD_CLASS_NAME } from '../constants';\nimport {\n  handleRate,\n  handleRemoveFavorite,\n  handleStart,\n} from '../handlers/exercise-card';\nimport { renderExerciseCard } from './exercise-card';\n\nconst listEl = document.querySelector('.exercises-list-wrapper');\n\nexport function renderExercisesList(\n  exercises,\n  emptyMessage,\n  { favorites, onFavoriteDelete } = {}\n) {\n  listEl.innerHTML = ''; // Clear the list before rendering\n\n  if (favorites) {\n    listEl.classList.add('favorites');\n  }\n\n  let content = '';\n\n  if (!exercises.length) {\n    content = `<p class=\"no-exercises-message\">${emptyMessage}</p>`;\n  } else {\n    exercises.forEach(exercise => {\n      content += renderExerciseCard(exercise, favorites);\n    });\n  }\n\n  listEl.insertAdjacentHTML('beforeend', content);\n\n  listEl.onclick = e => {\n    let target = e.target;\n\n    if (target.nodeName !== 'BUTTON') {\n      target = target.closest(`.${EXERCISE_CARD_CLASS_NAME} button`);\n    }\n    if (!target || target.nodeName !== 'BUTTON') {\n      return;\n    }\n\n    const exerciseCard = target.closest(`.${EXERCISE_CARD_CLASS_NAME}`);\n    const exerciseId = exerciseCard.dataset.id;\n    const action = target.dataset.action;\n\n    switch (action) {\n      case EXERCISE_CARD_ACTIONS.REMOVE_FAVORITE:\n        handleRemoveFavorite(listEl, exerciseId);\n        onFavoriteDelete?.(exerciseId);\n        break;\n\n      case EXERCISE_CARD_ACTIONS.START:\n        handleStart(exerciseId);\n        break;\n\n      case EXERCISE_CARD_ACTIONS.RATE:\n        handleRate(exerciseId);\n        break;\n\n      default:\n        console.warn('Unknown action:', action);\n    }\n  };\n}\n","export async function toggleModal(state, modalMenu) {\n  if (state === 'open') {\n    const scrollbarWidth = getScrollbarWidth();\n\n    document.body.classList.add('modal-open');\n    modalMenu.classList.remove('hidden');\n    modalMenu.classList.add('is-open');\n\n    document.documentElement.style.setProperty(\"--scrollbar-width\", `${scrollbarWidth}px`);\n  }\n  if (state === 'close') {\n    modalMenu.classList.remove('is-open');\n\n    setTimeout(() => {\n      modalMenu.classList.add('hidden');\n      document.body.classList.remove('modal-open');\n      document.documentElement.style.removeProperty(\"--scrollbar-width\");\n    }, 250);\n  }\n}\n\nconst getScrollbarWidth = () => window.innerWidth - document.documentElement.clientWidth;","import { toggleModal } from './modal.js';\n\n\nexport function loadHeader() {\n  const modalMenu = document.querySelector('.mobile-menu-overlay');\n  const modalMenuOpenBtn = document.querySelector('.burger-btn');\n  const modalMenuCloseBtn = document.querySelector('.mobile-menu__close-button');\n\n  // Mobile menu\n  if (modalMenu && modalMenuOpenBtn && modalMenuCloseBtn) {\n    modalMenuOpenBtn.addEventListener('click', () => toggleModal('open', modalMenu));\n    modalMenuCloseBtn.addEventListener('click', () => toggleModal('close', modalMenu));\n\n    modalMenu.addEventListener('click', ({ target }) => {\n      if (target.classList.contains('mobile-menu__nav-link') || target === modalMenu) {\n        toggleModal('close', modalMenu);\n      }\n    });\n  }\n\n  const navLinks = document.querySelectorAll('.nav-link');\n  const currentPath = window.location.pathname;\n\n  navLinks.forEach(link => {\n    const linkPath = new URL(link.href).pathname;\n\n    if (linkPath === currentPath) {\n      link.classList.add('active');\n    } else {\n      link.classList.remove('active');\n    }\n  });\n}"],"names":["EXERCISE_CARD_CLASS_NAME","EXERCISES_PAGE_SIZE","EXERCISE_CARD_ACTIONS","spritePath","renderExerciseCard","exercise","isFavorite","removeExerciseCard","container","exerciseId","exerciseCard","LOCAL_STORAGE_KEY","removeStoredExercise","updatedExercises","getStoredExercises","e","storeExercises","exercises","storedData","parsedExercises","validateExercise","handleRemoveFavorite","listEl","handleRate","handleStart","renderExercisesList","emptyMessage","favorites","onFavoriteDelete","content","target","action","toggleModal","state","modalMenu","scrollbarWidth","getScrollbarWidth","loadHeader","modalMenuOpenBtn","modalMenuCloseBtn","navLinks","currentPath","link"],"mappings":"ssBAAO,MAAMA,EAA2B,gBAE3BC,EAAsB,GAEtBC,EAAwB,OAAO,OAAO,CACjD,MAAO,QACP,KAAM,OACN,gBAAiB,gBACnB,CAAC,ECRcC,EAAA,mDCGR,SAASC,EAAmBC,EAAUC,EAAY,CACvD,MAAO;AAAA,kBACSN,CAAwB,cAAcK,EAAS,GAAG;AAAA;AAAA,sCAE9BA,EAAS,SAAS;AAAA;AAAA,YAG5CC,EACI,wBAAwBJ,EAAsB,eAAe;AAAA;AAAA;AAAA;AAAA,2BAK7D,wBAAwBA,EAAsB,IAAI;AAAA,oBAC9CG,EAAS,MAAM;AAAA;AAAA,iCAEFF,CAAU;AAAA;AAAA,0BAGhC;AAAA;AAAA,+BAGDD,EAAsB,KACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAY6BG,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMvCA,EAAS,cAAc,KAAKA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA,YAIzCA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIjBA,EAAS,MAAM;AAAA;AAAA;AAAA;AAAA,GAK3B,CACO,SAASE,EAAmBC,EAAWC,EAAY,CACxD,MAAMC,EAAeF,EAAU,cAC7B,IAAIR,CAAwB,aAAaS,CAAU,IACvD,EACMC,GACFA,EAAa,OAAM,CAEvB,CCjEA,MAAMC,EAAoB,oBA4BnB,SAASC,EAAqBH,EAAY,CAG/C,MAAMI,EAFYC,IAEiB,OAAOC,GAAKA,EAAE,MAAQN,CAAU,EAEnEO,EAAeH,CAAgB,CACjC,CAEA,SAASG,EAAeC,EAAW,CACjC,aAAa,QAAQN,EAAmB,KAAK,UAAUM,CAAS,CAAC,CACnE,CAEO,SAASH,GAAqB,CACnC,GAAI,CACF,MAAMI,EAAa,aAAa,QAAQP,CAAiB,EAEzD,GAAIO,EAAY,CACd,MAAMC,EAAkB,KAAK,MAAMD,CAAU,EAE7C,GAAI,MAAM,QAAQC,CAAe,EAC/B,OAAOA,EAAgB,OAAOC,CAAgB,CAEjD,CACF,MAAe,CAEf,CACD,MAAO,EACT,CAEA,SAASA,EAAiBf,EAAU,CAClC,OACEA,GACA,OAAOA,GAAa,UACpB,OAAOA,EAAS,KAAQ,UACxB,OAAOA,EAAS,MAAS,QAE7B,CC7DO,SAASgB,EAAqBC,EAAQb,EAAY,CACvDG,EAAqBH,CAAU,EAC/BF,EAAmBe,EAAQb,CAAU,CACvC,CAEO,SAASc,EAAWd,EAAY,CAErC,QAAQ,IAAI,oBAAoBA,CAAU,EAAE,CAC9C,CAEO,SAASe,EAAYf,EAAY,CAEtC,QAAQ,IAAI,sBAAsBA,CAAU,EAAE,CAChD,CCRA,MAAMa,EAAS,SAAS,cAAc,yBAAyB,EAExD,SAASG,EACdR,EACAS,EACA,CAAE,UAAAC,EAAW,iBAAAC,CAAgB,EAAK,CAAE,EACpC,CACAN,EAAO,UAAY,GAEfK,GACFL,EAAO,UAAU,IAAI,WAAW,EAGlC,IAAIO,EAAU,GAETZ,EAAU,OAGbA,EAAU,QAAQZ,GAAY,CAC5BwB,GAAWzB,EAAmBC,EAAUsB,CAAS,CACvD,CAAK,EAJDE,EAAU,mCAAmCH,CAAY,OAO3DJ,EAAO,mBAAmB,YAAaO,CAAO,EAE9CP,EAAO,QAAUP,GAAK,CACpB,IAAIe,EAASf,EAAE,OAKf,GAHIe,EAAO,WAAa,WACtBA,EAASA,EAAO,QAAQ,IAAI9B,CAAwB,SAAS,GAE3D,CAAC8B,GAAUA,EAAO,WAAa,SACjC,OAIF,MAAMrB,EADeqB,EAAO,QAAQ,IAAI9B,CAAwB,EAAE,EAClC,QAAQ,GAClC+B,EAASD,EAAO,QAAQ,OAE9B,OAAQC,EAAM,CACZ,KAAK7B,EAAsB,gBACzBmB,EAAqBC,EAAQb,CAAU,EACvCmB,GAAA,MAAAA,EAAmBnB,GACnB,MAEF,KAAKP,EAAsB,MACzBsB,EAAYf,CAAU,EACtB,MAEF,KAAKP,EAAsB,KACzBqB,EAAWd,CAAU,EACrB,MAEF,QACE,QAAQ,KAAK,kBAAmBsB,CAAM,CACzC,CACL,CACA,CCjEO,eAAeC,EAAYC,EAAOC,EAAW,CAClD,GAAID,IAAU,OAAQ,CACpB,MAAME,EAAiBC,IAEvB,SAAS,KAAK,UAAU,IAAI,YAAY,EACxCF,EAAU,UAAU,OAAO,QAAQ,EACnCA,EAAU,UAAU,IAAI,SAAS,EAEjC,SAAS,gBAAgB,MAAM,YAAY,oBAAqB,GAAGC,CAAc,IAAI,CACtF,CACGF,IAAU,UACZC,EAAU,UAAU,OAAO,SAAS,EAEpC,WAAW,IAAM,CACfA,EAAU,UAAU,IAAI,QAAQ,EAChC,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3C,SAAS,gBAAgB,MAAM,eAAe,mBAAmB,CAClE,EAAE,GAAG,EAEV,CAEA,MAAME,EAAoB,IAAM,OAAO,WAAa,SAAS,gBAAgB,YClBtE,SAASC,GAAa,CAC3B,MAAMH,EAAY,SAAS,cAAc,sBAAsB,EACzDI,EAAmB,SAAS,cAAc,aAAa,EACvDC,EAAoB,SAAS,cAAc,4BAA4B,EAGzEL,GAAaI,GAAoBC,IACnCD,EAAiB,iBAAiB,QAAS,IAAMN,EAAY,OAAQE,CAAS,CAAC,EAC/EK,EAAkB,iBAAiB,QAAS,IAAMP,EAAY,QAASE,CAAS,CAAC,EAEjFA,EAAU,iBAAiB,QAAS,CAAC,CAAE,OAAAJ,CAAM,IAAO,EAC9CA,EAAO,UAAU,SAAS,uBAAuB,GAAKA,IAAWI,IACnEF,EAAY,QAASE,CAAS,CAEtC,CAAK,GAGH,MAAMM,EAAW,SAAS,iBAAiB,WAAW,EAChDC,EAAc,OAAO,SAAS,SAEpCD,EAAS,QAAQE,GAAQ,CACN,IAAI,IAAIA,EAAK,IAAI,EAAE,WAEnBD,EACfC,EAAK,UAAU,IAAI,QAAQ,EAE3BA,EAAK,UAAU,OAAO,QAAQ,CAEpC,CAAG,CACH"}
{"version":3,"file":"favorites-page.js","sources":["../src/js/pages/favorites.js"],"sourcesContent":["import { EVENTS, EXERCISES_PAGE_SIZE } from '../constants';\nimport { renderExercisesList } from '../renderers/exercises-list';\nimport { clearPagination, renderPagination } from '../renderers/pagination';\nimport { getStoredExercises } from '../services/storage';\nimport { loadHeader } from '../services/header.js';\nimport { renderQuote } from '../renderers/quote.js';\nimport { listenToEvent } from '../services/events.js';\n\nlet page = 1;\nlet favorites = getStoredExercises();\n\nfunction handlePageChange(newPage) {\n  page = newPage;\n  renderFavoritesList();\n}\n\nfunction handleFavoriteDeleted(exerciseId) {\n  favorites = favorites.filter(exercise => exercise._id !== exerciseId);\n  renderFavoritesList();\n}\n\nfunction handleFavoriteAdded(exercise) {\n  favorites.push(exercise);\n  renderFavoritesList();\n}\n\nfunction renderFavoritesList() {\n  const totalPages = Math.ceil(favorites.length / EXERCISES_PAGE_SIZE);\n\n  if (page > totalPages) {\n    // if the page exceeds the total pages, reset to the last page\n    // if totalPages is 0, set page to 1\n    page = totalPages || 1;\n  }\n\n  const start = (page - 1) * EXERCISES_PAGE_SIZE;\n  const end = page * EXERCISES_PAGE_SIZE;\n\n  const exercisesToRender = favorites.slice(start, end);\n\n  renderExercisesList(\n    exercisesToRender,\n    \"It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\",\n    true\n  );\n\n  if (totalPages > 1) {\n    renderPagination(page, totalPages, handlePageChange);\n  } else {\n    clearPagination();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderFavoritesList();\n  loadHeader();\n  renderQuote();\n\n  listenToEvent(EVENTS.FAVORITE_REMOVED, handleFavoriteDeleted);\n  listenToEvent(EVENTS.FAVORITE_ADDED, handleFavoriteAdded);\n});\n"],"names":["page","favorites","getStoredExercises","handlePageChange","newPage","renderFavoritesList","handleFavoriteDeleted","exerciseId","exercise","handleFavoriteAdded","totalPages","EXERCISES_PAGE_SIZE","start","end","exercisesToRender","renderExercisesList","renderPagination","clearPagination","loadHeader","renderQuote","listenToEvent","EVENTS"],"mappings":"gJAQA,IAAIA,EAAO,EACPC,EAAYC,EAAkB,EAElC,SAASC,EAAiBC,EAAS,CACjCJ,EAAOI,EACPC,EAAmB,CACrB,CAEA,SAASC,EAAsBC,EAAY,CACzCN,EAAYA,EAAU,OAAOO,GAAYA,EAAS,MAAQD,CAAU,EACpEF,EAAmB,CACrB,CAEA,SAASI,EAAoBD,EAAU,CACrCP,EAAU,KAAKO,CAAQ,EACvBH,EAAmB,CACrB,CAEA,SAASA,GAAsB,CAC7B,MAAMK,EAAa,KAAK,KAAKT,EAAU,OAASU,CAAmB,EAE/DX,EAAOU,IAGTV,EAAOU,GAAc,GAGvB,MAAME,GAASZ,EAAO,GAAKW,EACrBE,EAAMb,EAAOW,EAEbG,EAAoBb,EAAU,MAAMW,EAAOC,CAAG,EAEpDE,EACED,EACA,gLACA,EACJ,EAEMJ,EAAa,EACfM,EAAiBhB,EAAMU,EAAYP,CAAgB,EAEnDc,EAAe,CAEnB,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDZ,EAAmB,EACnBa,EAAU,EACVC,EAAW,EAEXC,EAAcC,EAAO,iBAAkBf,CAAqB,EAC5Dc,EAAcC,EAAO,eAAgBZ,CAAmB,CAC1D,CAAC"}